<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Encerramento</title>
  <script src="https://sdk.scdn.co/spotify-player.js"></script>
  <script>
    // Definir a função onSpotifyWebPlaybackSDKReady antes de carregar o SDK
    window.onSpotifyWebPlaybackSDKReady = () => {
      const clientId = '50bf7096ed9b4b85812d6bd27f1c4bf8'; // Substitua pelo seu Client ID do Spotify
      const clientSecret = 'bfd49f18082b4d46a579103e70295f0e'; // Substitua pelo seu Client Secret do Spotify
      const tokenEndpoint = 'https://accounts.spotify.com/api/token';

      function getToken() {
        const credentials = btoa(clientId + ':' + clientSecret);
        const body = 'grant_type=client_credentials';

        fetch(tokenEndpoint, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
            'Authorization': 'Basic ' + credentials
          },
          body: body
        })
        .then(response => {
          if (!response.ok) {
            throw new Error('Erro ao obter token');
          }
          return response.json();
        })
        .then(data => {
          const accessToken = data.access_token;
          console.log('Token de acesso obtido:', accessToken);
          iniciarReproducaoComToken(accessToken);
        })
        .catch(error => {
          console.error('Erro ao obter token de acesso:', error);
        });
      }

      function iniciarReproducaoComToken(token) {
        const player = new Spotify.Player({
          name: 'Web Playback SDK Player',
          getOAuthToken: cb => { cb(token); }
        });

        player.addListener('player_state_changed', state => {
          console.log('Estado da música alterado', state);
        });

        // Conectar ao player
        player.connect().then(success => {
          if (success) {
            console.log('Conectado ao Spotify Player');
            playTokyoDrift(player); // Inicia a reprodução de Tokyo Drift
          } else {
            console.error('Não foi possível conectar ao Spotify Player');
          }
        }).catch(error => {
          console.error('Erro ao conectar ao Spotify Player:', error);
        });
      }

      // Função para tocar a música específica
      function playTokyoDrift(player) {
        const uri = 'spotify:track:SEU_URI_AQUI'; // Substitua pelo URI da música "Tokyo Drift" de Xavier Wulf
        
        player.play(uri).then(() => {
          console.log('Reproduzindo Tokyo Drift');
        }).catch(error => {
          console.error('Erro ao reproduzir Tokyo Drift:', error);
        });
      }

      // Chamada inicial para obter o token de acesso
      getToken();
    };
  </script>
  
  <style>
    body {
        background-color: #333;
        color: #c3c3c3;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
    }
    h1{
        text-align: center;
        font-size: 48px;
        text-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(255, 255, 255, 0.5), 0 0 30px rgba(255, 255, 255, 0.3), 0 0 40px rgba(255, 255, 255, 0.2), 0 0 50px rgba(255, 255, 255, 0.1), 0 0 60px rgba(255, 255, 255, 0.05);
    }
    h2{
        font-size: 28px;
        padding: 14px 1px 1px 1px;
    }
    h3{
        font-size: 20px;
    }
    h4{
        font-size: 19px;
    }
    #container {
        text-align: center;
        margin-top: 20px;
    }
    #imagem {
        max-width: 100%;
        height: auto;
        margin-top: 17px;
        margin-bottom: 17px;
        border-radius: 16px;
        box-shadow: 7px 5px 4px 0px rgb(255 244 244 / 33%);
    }
    .img2{
        padding: 17px 44px 17px 44px;
    }
    #info {
        margin-top: 20px;
        font-size: 18px;
    }
    #botao-pagina {
        background-color: #fbb2b200;
        color: #9a9595;
        padding: 10px 20px;
        margin-bottom: 24px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        cursor: pointer;
        border: none;
        border-radius: 5px;
        transition: background-color 0.3s;
    }
    #botao-pagina:hover {
        background-color: #636363;
    }
  </style>

</head>
<body>
  <div id="container">
    <h1>Amplified Avenger</h1>
    <div id="info">
        <h2>Extensão 2 / Extensão 6</h2>
        <h4>IFTM 2024</h4>
        <h3>Tha</h3>
        <h3>Lui</h3>
    </div>
    <div class="img2"><img id="imagem" src="proj38.jpeg" alt="Imagem Avenger"></div>
    <div>
        <button id="botao-pagina" onclick="window.location.href='index.html';">Home</button>
        <button id="botao-pagina" onclick="window.location.href='pag2.html';">Campeonatos</button>
        <button id="botao-pagina" onclick="window.location.href='pag3.html';">Projetos</button>
        <button id="botao-pagina" onclick="window.location.href='pag4.html';">Encerramento</button>
    </div>
  </div>



</body>
</html>
